<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AHMED | PRO HUB</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #00f2ff;
            --secondary: #bd00ff;
            --bg: #020205;
            --glass: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.1);
            --nav-glass: rgba(0, 0, 0, 0.8);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }

        body {
            margin: 0; font-family: 'Tajawal', sans-serif;
            background: var(--bg); color: white; height: 100vh;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden; user-select: none;
        }

        /* --- Ø§Ù„Ø®Ù„ÙÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© --- */
        .cursor-aurora {
            position: fixed; width: 600px; height: 600px;
            background: radial-gradient(circle, rgba(0,242,255,0.15) 0%, rgba(189,0,255,0.1) 40%, transparent 70%);
            border-radius: 50%; pointer-events: none; transform: translate(-50%, -50%);
            z-index: -1; filter: blur(80px); mix-blend-mode: screen;
        }
        .orb {
            position: fixed; border-radius: 50%; filter: blur(50px); z-index: -2;
            animation: orbFloat 15s infinite alternate ease-in-out;
        }
        .orb1 { width: 350px; height: 350px; background: #5500ff; top: -10%; left: -10%; opacity: 0.15; }
        .orb2 { width: 400px; height: 400px; background: #00c3ff; bottom: -10%; right: -10%; opacity: 0.1; animation-delay: -5s; }
        @keyframes orbFloat { from { transform: translate(0,0); } to { transform: translate(40px, 40px); } }

        /* --- Ø¥Ø·Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ --- */
        .app-frame {
            width: 100%; max-width: 420px; height: 100%; /* Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø© Ù„Ù„Ù‡Ø§ØªÙ */
            background: rgba(255,255,255,0.03); backdrop-filter: blur(40px);
            position: relative; overflow: hidden;
            display: flex; flex-direction: column;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
        }
        /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­ÙˆØ§Ù Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ø£ÙƒØ¨Ø± */
        @media (min-width: 450px) {
            .app-frame { height: 92vh; border-radius: 40px; border: 1px solid var(--glass-border); }
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± (Ø«Ø§Ø¨Øª) --- */
        .header-area { 
            flex-shrink: 0; position: relative; height: 35%; 
            display: flex; flex-direction: column; justify-content: flex-end; align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .live-bg-container { position: absolute; inset: 0; z-index: 0; }
        .live-img { 
            position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; 
            opacity: 0; transition: opacity 2s ease; mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
        }
        .live-img.active { opacity: 0.6; transform: scale(1.1); transition: opacity 2s ease, transform 10s linear; }

        .header-content { z-index: 2; text-align: center; padding-bottom: 15px; width: 100%; }
        
        .pfp-wrapper {
            width: 90px; height: 90px; margin: 0 auto; position: relative;
        }
        .pfp-img {
            width: 100%; height: 100%; border-radius: 50%; border: 2px solid rgba(255,255,255,0.3);
            object-fit: cover; box-shadow: 0 0 25px rgba(0,242,255,0.2);
        }
        .user-name { font-size: 24px; font-weight: 900; margin: 8px 0 2px; text-shadow: 0 2px 10px rgba(0,0,0,0.8); letter-spacing: 1px; }
        .user-bio { font-size: 12px; color: rgba(255,255,255,0.7); background: rgba(0,0,0,0.4); padding: 4px 12px; border-radius: 15px; display: inline-block; backdrop-filter: blur(5px); }

        /* --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ (Ù…Ø±Ù†Ø© ÙˆØ¨Ø¯ÙˆÙ† Ø³ÙƒØ±ÙˆÙ„) --- */
        .content-area { 
            flex-grow: 1; position: relative; overflow: hidden; 
            padding: 15px; padding-bottom: 80px; /* Ù…Ø³Ø§Ø­Ø© Ù„Ù„Ù†Ø§ÙØ¨Ø§Ø± */
            display: flex; flex-direction: column; justify-content: center;
        }
        
        .tab-section { 
            display: none; width: 100%; height: 100%; 
            animation: fadeIn 0.5s ease;
        }
        .tab-section.active { display: flex; flex-direction: column; justify-content: center; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

        /* --- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ÙÙ‚Ø·) --- */
        .music-card {
            width: 100%; height: 100%; max-height: 200px;
            background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
            border: 1px solid var(--glass-border); border-radius: 25px;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            position: relative; overflow: hidden; cursor: pointer; transition: 0.3s;
        }
        .music-card:active { transform: scale(0.97); background: rgba(255,255,255,0.1); }
        .play-icon-large {
            font-size: 40px; color: var(--primary); margin-bottom: 15px;
            text-shadow: 0 0 20px var(--primary); transition: 0.3s;
        }
        .music-card.playing .play-icon-large { animation: pulseBeat 1s infinite; }
        @keyframes pulseBeat { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.2); opacity: 0.7; } 100% { transform: scale(1); opacity: 1; } }
        
        .equalizer { display: flex; gap: 5px; height: 30px; align-items: flex-end; }
        .bar { width: 6px; background: rgba(255,255,255,0.3); border-radius: 3px; height: 5px; transition: 0.2s; }
        .music-card.playing .bar { background: var(--secondary); animation: eqWave 0.6s infinite alternate; }
        .music-card.playing .bar:nth-child(2) { animation-delay: 0.1s; }
        .music-card.playing .bar:nth-child(3) { animation-delay: 0.2s; }
        .music-card.playing .bar:nth-child(4) { animation-delay: 0.3s; }
        .music-card.playing .bar:nth-child(5) { animation-delay: 0.4s; }
        @keyframes eqWave { 0% { height: 5px; } 100% { height: 30px; } }

        /* --- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„ÙŠÙˆÙ…ÙŠØ§Øª (Slider) --- */
        .feed-slider {
            width: 100%; height: 100%; border-radius: 25px;
            position: relative; overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            background: rgba(0,0,0,0.2);
        }
        .slide-item {
            position: absolute; inset: 0; width: 100%; height: 100%;
            opacity: 0; transition: opacity 1s ease-in-out, transform 1s ease;
            transform: scale(1.05); display: flex; align-items: flex-end;
        }
        .slide-item.active { opacity: 1; transform: scale(1); z-index: 1; }
        
        .slide-bg { 
            position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; 
            z-index: 0; filter: brightness(0.8);
        }
        .slide-content {
            position: relative; z-index: 2; padding: 25px; width: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 100%);
            text-align: right;
        }
        .slide-text { font-size: 16px; line-height: 1.6; text-shadow: 0 2px 4px black; font-weight: bold; }
        .slider-indicators {
            position: absolute; top: 15px; left: 0; right: 0; z-index: 5;
            display: flex; justify-content: center; gap: 5px; padding: 0 20px;
        }
        .indicator { flex: 1; height: 3px; background: rgba(255,255,255,0.3); border-radius: 2px; overflow: hidden; }
        .indicator-fill { height: 100%; background: white; width: 0%; }
        .slide-item.active ~ .slider-indicators .indicator.active .indicator-fill {
            width: 100%; transition: width 4s linear; /* Ù…Ø¯Ø© Ø§Ù„Ø¹Ø±Ø¶ */
        }

        /* --- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ --- */
        .msg-container {
            background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border);
            padding: 25px; border-radius: 25px; text-align: center;
        }
        .msg-input {
            width: 100%; background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border);
            padding: 15px; border-radius: 12px; color: white; text-align: center; margin: 15px 0;
            font-family: inherit;
        }
        .send-btn {
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            border: none; padding: 12px 40px; border-radius: 50px; color: white; font-weight: bold;
            cursor: pointer; box-shadow: 0 5px 20px rgba(189,0,255,0.4);
        }

        /* --- Ø§Ù„Ù†Ø§ÙØ¨Ø§Ø± --- */
        .bottom-nav {
            position: absolute; bottom: 20px; left: 20px; right: 20px;
            height: 65px; background: var(--nav-glass); backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 50px;
            display: flex; justify-content: space-around; align-items: center; z-index: 100;
        }
        .nav-item { 
            color: rgba(255,255,255,0.4); cursor: pointer; transition: 0.3s; 
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .nav-item i { font-size: 20px; margin-bottom: 4px; }
        .nav-item span { font-size: 10px; font-weight: bold; }
        .nav-item.active { color: var(--primary); transform: translateY(-5px); text-shadow: 0 0 15px var(--primary); }

        /* --- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… --- */
        #admin-panel { display: none; position: fixed; inset: 0; background: #080808; z-index: 10000; padding: 25px; overflow-y: auto; }
        .admin-input { width: 100%; background: #1a1a1a; border: 1px solid #333; color: white; padding: 12px; border-radius: 8px; margin-bottom: 10px; font-family: monospace; direction: ltr; text-align: left; }
        .admin-section { border-bottom: 1px solid #333; padding-bottom: 15px; margin-bottom: 15px; }
        .save-float { position: fixed; bottom: 20px; right: 20px; background: var(--primary); color: black; border: none; padding: 15px 30px; border-radius: 50px; font-weight: bold; box-shadow: 0 0 20px var(--primary); }
    </style>
</head>
<body>

    <div class="orb orb1"></div>
    <div class="orb orb2"></div>
    <div class="cursor-aurora" id="aurora"></div>

    <div class="app-frame">
        <div class="header-area">
            <div class="live-bg-container" id="live-slider"></div>
            <div class="header-content">
                <div class="pfp-wrapper" id="secret-trigger">
                    <img id="ui-pfp" src="https://via.placeholder.com/150" class="pfp-img">
                </div>
                <h1 class="user-name" id="ui-name">...</h1>
                <div class="user-bio" id="ui-bio">...</div>
            </div>
        </div>

        <div class="content-area">
            
            <div id="tab-home" class="tab-section active">
                <div class="music-card" id="music-btn" onclick="toggleMusic()">
                    <i class="fas fa-play play-icon-large" id="play-icon"></i>
                    <div style="font-size:14px; opacity:0.8; margin-bottom:10px;" id="music-status">Ø§Ø¶ØºØ· Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰</div>
                    <div class="equalizer">
                        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
                    </div>
                </div>
                <audio id="bg-music" loop></audio>
            </div>

            <div id="tab-feed" class="tab-section">
                <div class="feed-slider" id="feed-slider-container">
                    <div style="display:flex; justify-content:center; align-items:center; height:100%; opacity:0.5;">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
                </div>
            </div>

            <div id="tab-msg" class="tab-section">
                <div class="msg-container">
                    <i class="fas fa-paper-plane" style="font-size:40px; color:var(--primary); margin-bottom:15px;"></i>
                    <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ</h3>
                    <input type="text" id="v-msg" class="msg-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...">
                    <button onclick="sendMsg()" class="send-btn">Ø¥Ø±Ø³Ø§Ù„</button>
                </div>
            </div>

        </div>

        <div class="bottom-nav">
            <div class="nav-item active" onclick="switchTab('home')">
                <i class="fas fa-music"></i>
                <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            </div>
            <div class="nav-item" onclick="switchTab('feed')">
                <i class="fas fa-images"></i>
                <span>ÙŠÙˆÙ…ÙŠØ§ØªÙŠ</span>
            </div>
            <div class="nav-item" onclick="switchTab('msg')">
                <i class="fas fa-comment-dots"></i>
                <span>Ø±Ø§Ø³Ù„Ù†ÙŠ</span>
            </div>
        </div>
    </div>

    <div id="admin-panel">
        <h2 style="color:var(--primary);">Control Panel âš™ï¸</h2>
        <button onclick="closeAdmin()" style="position:absolute; top:25px; left:25px; background:none; border:none; color:white; font-size:24px;">âœ–</button>
        <br>
        
        <div class="admin-section">
            <h4 style="color:#888;">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h4>
            <input type="text" id="adm-name" class="admin-input" placeholder="Ø§Ù„Ø§Ø³Ù…">
            <input type="text" id="adm-bio" class="admin-input" placeholder="Ø§Ù„ÙˆØµÙ Ø§Ù„Ù…Ø®ØªØµØ±">
            <input type="text" id="adm-pfp" class="admin-input" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©">
            <input type="text" id="adm-music" class="admin-input" placeholder="Ø±Ø§Ø¨Ø· Ù…Ù„Ù Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ (MP3)">
        </div>

        <div class="admin-section">
            <h4 style="color:#888;">Ø§Ù„ÙŠÙˆÙ…ÙŠØ§Øª (Slider Feed)</h4>
            <small style="color:#666; display:block; margin-bottom:10px;">Ø£Ø¯Ø®Ù„ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù†ØµÙˆØµ (Ø§ØªØ±Ùƒ Ø§Ù„Ø­Ù‚Ù„ ÙØ§Ø±ØºØ§Ù‹ Ø¥Ø°Ø§ Ù„Ù… ØªØ±Ø¯ Ø¹Ø±Ø¶Ù‡)</small>
            
            <label style="color:var(--secondary)">Ø´Ø±ÙŠØ­Ø© 1</label>
            <input type="text" id="adm-img-1" class="admin-input" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© 1">
            <input type="text" id="adm-txt-1" class="admin-input" placeholder="Ù†Øµ Ø§Ù„Ø´Ø±ÙŠØ­Ø© 1">
            
            <label style="color:var(--secondary)">Ø´Ø±ÙŠØ­Ø© 2</label>
            <input type="text" id="adm-img-2" class="admin-input" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© 2">
            <input type="text" id="adm-txt-2" class="admin-input" placeholder="Ù†Øµ Ø§Ù„Ø´Ø±ÙŠØ­Ø© 2">
            
            <label style="color:var(--secondary)">Ø´Ø±ÙŠØ­Ø© 3</label>
            <input type="text" id="adm-img-3" class="admin-input" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© 3">
            <input type="text" id="adm-txt-3" class="admin-input" placeholder="Ù†Øµ Ø§Ù„Ø´Ø±ÙŠØ­Ø© 3">
        </div>

        <button onclick="saveMaster()" class="save-float">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
        
        <div style="margin-top:20px; padding-bottom:50px;">
            <h4>Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ÙˆØ§Ø±Ø¯Ø© (<span id="adm-msg-count">0</span>)</h4>
            <div id="admin-msgs"></div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase (Ù†ÙØ³ Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©)
        const firebaseConfig = {
            apiKey: "AIza...",
            authDomain: "mypersonalapp-2f2cc.firebaseapp.com",
            databaseURL: "https://mypersonalapp-2f2cc-default-rtdb.firebaseio.com",
            projectId: "mypersonalapp-2f2cc",
            storageBucket: "mypersonalapp-2f2cc.appspot.com",
            messagingSenderId: "...",
            appId: "..."
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // 1. Ø®Ù„ÙÙŠØ© Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø­ÙŠØ©
        const liveImages = [
            "https://images.unsplash.com/photo-1550684848-fac1c5b4e853?q=80&w=600&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1614850523459-c2f4c699c52e?q=80&w=600&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?q=80&w=600&auto=format&fit=crop"
        ];
        const sliderContainer = document.getElementById('live-slider');
        function initLiveHeader() {
            sliderContainer.innerHTML = '';
            liveImages.forEach((url, i) => {
                const img = document.createElement('img');
                img.src = url; img.className = i === 0 ? 'live-img active' : 'live-img';
                sliderContainer.appendChild(img);
            });
            let idx = 0;
            setInterval(() => {
                const imgs = document.querySelectorAll('.live-img');
                imgs[idx].classList.remove('active');
                idx = (idx + 1) % imgs.length;
                imgs[idx].classList.add('active');
            }, 5000);
        }
        initLiveHeader();

        // 2. Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø§ÙˆØ³
        const aurora = document.getElementById('aurora');
        document.addEventListener('mousemove', (e) => {
            aurora.style.left = e.clientX + 'px'; aurora.style.top = e.clientY + 'px';
        });

        // 3. Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        function switchTab(tabName) {
            document.querySelectorAll('.tab-section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById('tab-' + tabName).classList.add('active');
            
            const icons = { 'home': 0, 'feed': 1, 'msg': 2 };
            document.querySelectorAll('.nav-item')[icons[tabName]].classList.add('active');
        }

        // 4. Ù…Ø´ØºÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰
        const audio = document.getElementById('bg-music');
        const musicCard = document.getElementById('music-btn');
        const playIcon = document.getElementById('play-icon');
        const musicStatus = document.getElementById('music-status');

        function toggleMusic() {
            if(audio.paused) {
                audio.play().then(() => {
                    musicCard.classList.add('playing');
                    playIcon.classList.replace('fa-play', 'fa-pause');
                    musicStatus.innerText = "ÙŠØ¹Ù…Ù„ Ø§Ù„Ø¢Ù†... ğŸ¶";
                }).catch(e => alert("Ø§Ø¶ØºØ· Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„ØµÙØ­Ø©"));
            } else {
                audio.pause();
                musicCard.classList.remove('playing');
                playIcon.classList.replace('fa-pause', 'fa-play');
                musicStatus.innerText = "Ø§Ø¶ØºØ· Ù„Ù„ØªØ´ØºÙŠÙ„";
            }
        }

        // 5. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ§Øª (Auto Feed Slider)
        let feedInterval;
        function initFeedSlider(data) {
            const container = document.getElementById('feed-slider-container');
            container.innerHTML = "";
            
            // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­
            let slidesHTML = "";
            let indicatorsHTML = `<div class="slider-indicators">`;
            let count = 0;

            [1, 2, 3].forEach(i => {
                if (data['img'+i] || data['txt'+i]) {
                    const activeClass = count === 0 ? 'active' : '';
                    const imgSrc = data['img'+i] || 'https://via.placeholder.com/400x600/000/fff?text=No+Image';
                    const txt = data['txt'+i] || '';
                    
                    slidesHTML += `
                        <div class="slide-item ${activeClass}" id="slide-${count}">
                            <img src="${imgSrc}" class="slide-bg">
                            <div class="slide-content">
                                <div class="slide-text">${txt}</div>
                            </div>
                        </div>
                    `;
                    indicatorsHTML += `<div class="indicator ${activeClass}" id="ind-${count}"><div class="indicator-fill"></div></div>`;
                    count++;
                }
            });
            indicatorsHTML += `</div>`;

            if(count === 0) {
                container.innerHTML = "<div style='display:flex;justify-content:center;align-items:center;height:100%;'>Ù„Ø§ ØªÙˆØ¬Ø¯ ÙŠÙˆÙ…ÙŠØ§Øª ğŸ“­</div>";
                return;
            }

            container.innerHTML = slidesHTML + indicatorsHTML;

            // Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            if (feedInterval) clearInterval(feedInterval);
            let currentSlide = 0;
            
            feedInterval = setInterval(() => {
                // Ø¥Ø²Ø§Ù„Ø© Active
                document.getElementById(`slide-${currentSlide}`).classList.remove('active');
                document.getElementById(`ind-${currentSlide}`).classList.remove('active');
                
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØªØ§Ù„ÙŠ
                currentSlide = (currentSlide + 1) % count;
                
                // Ø¥Ø¶Ø§ÙØ© Active
                document.getElementById(`slide-${currentSlide}`).classList.add('active');
                document.getElementById(`ind-${currentSlide}`).classList.add('active');
            }, 4000); // ÙƒÙ„ 4 Ø«ÙˆØ§Ù†ÙŠ
        }

        // 6. Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        db.ref('appData').on('value', snap => {
            const d = snap.val() || {};
            
            document.getElementById('ui-name').innerText = d.name || "Ø£Ø­Ù…Ø¯";
            document.getElementById('ui-bio').innerText = d.bio || "Welcome to my world";
            document.getElementById('ui-pfp').src = d.pfp || "https://via.placeholder.com/150";
            if(d.musicUrl && audio.src !== d.musicUrl) audio.src = d.musicUrl;

            // ØªØ´ØºÙŠÙ„ Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ù„ÙŠÙˆÙ…ÙŠØ§Øª
            initFeedSlider(d);
        });

        // 7. Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        let taps = 0;
        document.getElementById('secret-trigger').onclick = () => {
            taps++;
            if(taps === 3) {
                if(prompt("Password:") === "1234") {
                    document.getElementById('admin-panel').style.display = 'block';
                    loadAdmin();
                }
                taps = 0;
            }
        };
        function closeAdmin() { document.getElementById('admin-panel').style.display = 'none'; }

        function loadAdmin() {
            db.ref('appData').once('value', s => {
                const d = s.val() || {};
                document.getElementById('adm-name').value = d.name || "";
                document.getElementById('adm-bio').value = d.bio || "";
                document.getElementById('adm-pfp').value = d.pfp || "";
                document.getElementById('adm-music').value = d.musicUrl || "";
                
                document.getElementById('adm-img-1').value = d.img1 || ""; document.getElementById('adm-txt-1').value = d.txt1 || "";
                document.getElementById('adm-img-2').value = d.img2 || ""; document.getElementById('adm-txt-2').value = d.txt2 || "";
                document.getElementById('adm-img-3').value = d.img3 || ""; document.getElementById('adm-txt-3').value = d.txt3 || "";
            });
            // Ø¬Ù„Ø¨ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
            db.ref('messages').on('value', s => {
                const list = document.getElementById('admin-msgs');
                document.getElementById('adm-msg-count').innerText = s.numChildren();
                list.innerHTML = "";
                s.forEach(c => {
                    list.innerHTML += `
                        <div style="background:#222; padding:10px; margin-bottom:5px; border-radius:5px; border-right:3px solid var(--primary);">
                            ${c.val().text} 
                            <i class="fas fa-trash" style="color:#ff4444; float:left; cursor:pointer;" onclick="delMsg('${c.key}')"></i>
                            <div style="font-size:9px; color:#666; margin-top:5px;">${c.val().time}</div>
                        </div>`;
                });
            });
        }

        function saveMaster() {
            db.ref('appData').update({
                name: document.getElementById('adm-name').value,
                bio: document.getElementById('adm-bio').value,
                pfp: document.getElementById('adm-pfp').value,
                musicUrl: document.getElementById('adm-music').value,
                img1: document.getElementById('adm-img-1').value, txt1: document.getElementById('adm-txt-1').value,
                img2: document.getElementById('adm-img-2').value, txt2: document.getElementById('adm-txt-2').value,
                img3: document.getElementById('adm-img-3').value, txt3: document.getElementById('adm-txt-3').value
            }).then(() => { alert("ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­!"); closeAdmin(); });
        }

        function sendMsg() {
            const m = document.getElementById('v-msg').value;
            if(m) { db.ref('messages').push({text:m, time:new Date().toLocaleString()}); alert("ÙˆØµÙ„ØªÙ†ÙŠ Ø±Ø³Ø§Ù„ØªÙƒ!"); document.getElementById('v-msg').value = ""; }
        }
        function delMsg(k) { if(confirm("Ø­Ø°Ù Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŸ")) db.ref('messages').child(k).remove(); }
    </script>
</body>
</html>
